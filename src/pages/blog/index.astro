---
import Layout from "../../layouts/Layout.astro";

const posts = await Astro.glob("./*.md");
let publishedPosts = posts.filter((post) => !post?.frontmatter?.draft);
publishedPosts = publishedPosts.sort((a, b) => {
	return (new Date(b?.frontmatter?.date) as unknown as number) - (new Date(a?.frontmatter?.date) as unknown as number);
});
---

<Layout title="Blog">
	<section>
		<h1 class="text-5xl font-semibold">Blog</h1>
		<p class="text-neutral-600 mt-4">Read the latest news and updates on new features, releases, and more.</p>

		<div class="mt-3">
			{
				publishedPosts.map((post, index) => (
					<div class="w-full flex flex-col items-start border-b border-b-neutral-900 py-4">
						<a href={post?.url} class="text-xl font-semibold transition-all hover:opacity-60">
							{post?.frontmatter?.title}
						</a>
						<p class="text-sm text-neutral-700 leading-relaxed mt-2 lg:mt-1">{post?.frontmatter?.description}</p>
					</div>
				))
			}
		</div>
	</section>
</Layout>
